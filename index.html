<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Lover Site!</title>
  <style>
    /* --- all your original CSS unchanged --- */
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap');
    :root{
      --glass-bg: rgba(18,18,20,0.44);
      --accent: #e07a9a;
      --text-soft: #f6eef0;
      --muted: #d8cfd1;
      --card-shadow: 0 8px 32px rgba(3,4,10,0.6);
      --glow: 0 6px 30px rgba(255,255,255,0.06);
    }
    html,body{height:100%;margin:0;font-family:'Poppins',sans-serif;background:#101018;color:var(--text-soft);}
    .page {position:relative;min-height:100vh;overflow:hidden;}
    .bg-layer {position:absolute;inset:0;z-index:0;transition:opacity 900ms ease;
      background:linear-gradient(90deg,#f48fb1 0%,#64b5f6 100%);
      filter:saturate(0.92) contrast(0.95) brightness(0.88);}
    .bg-breathe {position:absolute;inset:0;z-index:1;pointer-events:none;
      background:radial-gradient(1200px 600px at 20% 30%,rgba(255,255,255,0.02),transparent 15%),
                 radial-gradient(900px 600px at 80% 70%,rgba(255,255,255,0.01),transparent 12%);
      animation:breathe 8s ease-in-out infinite;mix-blend-mode:overlay;}
    @keyframes breathe {0%{opacity:.92;transform:scale(1);}50%{opacity:.98;transform:scale(1.01);}100%{opacity:.92;transform:scale(1);}}
    .content {position:relative;z-index:5;padding:48px 20px;display:flex;justify-content:center;align-items:flex-start;min-height:100vh;box-sizing:border-box;}
    .glass {width:100%;max-width:760px;margin:48px auto;background:var(--glass-bg);
      border-radius:18px;padding:28px;box-shadow:var(--card-shadow);backdrop-filter:blur(10px) saturate(0.9);
      -webkit-backdrop-filter:blur(10px) saturate(0.9);border:1px solid rgba(255,255,255,0.04);
      color:var(--text-soft);text-align:center;}
    h1,h2,h3,h4,p,label,button{ text-shadow: var(--glow); }
    h1{margin:6px 0 12px;font-weight:600;letter-spacing:0.6px}
    p { margin:8px 0; color:var(--muted); font-weight:300; }
    .login-row { display:flex; gap:12px; justify-content:center; align-items:center; flex-wrap:wrap; margin-top:8px; }
    input[type="password"]{
      padding:12px 14px;border-radius:12px;border:none;outline:none;font-size:16px;width:260px;
      background:rgba(255,255,255,0.03);color:var(--text-soft);
      box-shadow:inset 0 1px 0 rgba(255,255,255,0.02);
    }
    button {
      padding:10px 18px;border-radius:12px;border:none;background:linear-gradient(180deg,var(--accent),#d86d8f);
      color:white;font-weight:600;cursor:pointer;box-shadow:0 6px 18px rgba(200,80,120,0.12);
      transition: transform 160ms ease, box-shadow 160ms ease;
    }
    button:hover{ transform: translateY(-3px); box-shadow:0 12px 36px rgba(200,80,120,0.12); }
    .color-section { margin-top:18px; border-top:1px solid rgba(255,255,255,0.03); padding-top:18px; display:grid; gap:12px; }
    .pair {display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap;}
    .pair .label { text-align:left; font-weight:600; color:var(--text-soft); width:160px; }
    .swatch { width:44px;height:28px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);box-shadow:inset 0 1px 0 rgba(255,255,255,0.02); }
    .hint { font-size:13px;color:rgba(255,255,255,0.6);margin-top:6px; }
    iframe { border-radius:12px; margin-top:10px; width:100%; max-width:500px; border:0; }
    footer { margin-top:16px; font-size:13px; color:rgba(255,255,255,0.6); }
    .reveal { animation: revealIn 700ms cubic-bezier(.2,.9,.2,1) both; }
    @keyframes revealIn {from{opacity:0;transform:translateY(18px) scale(.995);}to{opacity:1;transform:translateY(0) scale(1);}}
    /* dropdown, modal, status, etc. all same as before */
    .dropdown{position:relative;display:inline-block;width:220px;font-family:'Poppins',sans-serif;}
    .dropdown-button{width:100%;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.05);border-radius:12px;padding:12px 40px 12px 14px;color:var(--text-soft);cursor:pointer;text-align:left;font-size:15px;box-shadow:inset 0 1px 0 rgba(255,255,255,0.02);transition:all 0.25s ease;position:relative;}
    .dropdown-button::after{content:'â–¾';position:absolute;right:14px;top:50%;transform:translateY(-50%);color:var(--muted);transition:color 0.25s ease;}
    .dropdown-button:hover{background:rgba(255,255,255,0.06);box-shadow:0 0 0 2px rgba(255,255,255,0.06);}
    .dropdown-button:hover::after{color:var(--accent);}
    .dropdown-list{position:absolute;top:calc(100% + 6px);left:0;right:0;background:rgba(18,18,20,0.9);border:1px solid rgba(255,255,255,0.06);border-radius:14px;box-shadow:0 8px 32px rgba(0,0,0,0.4);backdrop-filter:blur(12px) saturate(0.9);display:none;flex-direction:column;z-index:10;overflow:hidden;animation:dropdownFade 0.2s ease forwards;}
    @keyframes dropdownFade{from{opacity:0;transform:translateY(-6px);}to{opacity:1;transform:translateY(0);}}
    .dropdown-list.show{display:flex;}
    .dropdown-option{padding:10px 14px;font-size:15px;color:var(--text-soft);cursor:pointer;transition:background 0.15s ease, color 0.15s ease;}
    .dropdown-option:hover{background:rgba(255,255,255,0.07);color:var(--accent);}
    .modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.5);display:none;z-index:10000;align-items:center;justify-content:center;}
    .modal{width:min(680px,92%);background:rgba(10,10,12,0.96);border-radius:12px;padding:18px;box-shadow:0 12px 40px rgba(0,0,0,0.6);color:var(--text-soft);}
    .modal textarea{width:100%;height:180px;border-radius:10px;padding:12px;resize:vertical;background:rgba(255,255,255,0.03);color:var(--text-soft);border:1px solid rgba(255,255,255,0.04);outline:none;}
    .modal .actions{display:flex;gap:10px;justify-content:flex-end;margin-top:10px;}
    #status{position:fixed;bottom:14px;right:14px;display:flex;gap:8px;align-items:center;z-index:9999;color:var(--muted);background:rgba(255,255,255,0.03);padding:6px 10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);}
    #status .dot{width:10px;height:10px;border-radius:50%;background:#b94a4a;box-shadow:0 0 8px rgba(185,74,74,0.16);}
    #status.connected .dot{background:#5fbf6b;box-shadow:0 0 12px rgba(95,191,107,0.28);}
    #countdown{margin-top:6px;font-weight:600;color:var(--accent);}
    @media (max-width:720px){.glass{margin:24px 16px;padding:20px;}.pair{flex-direction:column;align-items:flex-start;}.pair .label{width:100%;}.dropdown{width:100%;}}
  </style>
</head>
<body>
  <div class="page">
    <div id="bg-main" class="bg-layer" style="opacity:1;"></div>
    <div id="bg-top" class="bg-layer" style="opacity:0;"></div>
    <div class="bg-breathe" aria-hidden="true"></div>

    <main class="content">
      <!-- LOGIN CARD -->
      <section class="glass" id="loginCard">
        <h2>Site Login<h2>
        <p>Enter the secret password to enter:</p>
        <div class="login-row">
          <input id="passwordInput" type="password" placeholder="Password" />
          <button id="enterBtn">Enter</button>
        </div>
        <!-- NEW remember me -->
        <div style="margin-top:10px;font-size:14px;">
          <label><input type="checkbox" id="rememberMe" style="margin-right:6px;">Remember me</label>
        </div>
      </section>

      <!-- MAIN CONTENT -->
      <section class="glass reveal" id="mainContent" style="display:none;">
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <h1>Lover Site / Safe Space</h1>
          <!-- NEW logout button -->
          <button id="logoutBtn" style="background:rgba(255,255,255,0.05);padding:6px 12px;border-radius:10px;font-size:14px;">Logout</button>
        </div>
        <p><strong>Anniversary:</strong> November 2</p>
        <p id="countdown" aria-live="polite"></p>

        <div style="display:flex;gap:12px;align-items:center;justify-content:center;margin-top:12px;">
          <button id="openNoteBtn" title="Open shared note" style="font-size:20px;padding:8px 10px;border-radius:10px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.04);">
            â˜…
          </button>
          <div id="notePreview" style="max-width:560px;color:var(--muted);font-size:14px;text-align:left;">(No shared note yet â€” click the â˜… to add)</div>
        </div>

        <!-- rest of content unchanged -->
        <div class="color-section" aria-label="Colors">
          <h3 style="margin:6px 0 4px;">Our Colors!</h3>
          <!-- ... existing dropdowns unchanged ... -->
          <div class="pair">
            <div style="display:flex;align-items:center;gap:10px;">
              <div class="label">Logan</div>
              <div class="dropdown" data-person="logan">
                <div class="dropdown-button">â€” choose â€”</div>
                <div class="dropdown-list">
                  <div class="dropdown-option" data-value="red">Dominant</div>
                  <div class="dropdown-option" data-value="orange">Confused</div>
                  <div class="dropdown-option" data-value="yellow">Breeding</div>
                  <div class="dropdown-option" data-value="green">Submissive</div>
                  <div class="dropdown-option" data-value="lightblue">Lovey</div>
                  <div class="dropdown-option" data-value="blue">Attention</div>
                  <div class="dropdown-option" data-value="purple">Desperate</div>
                  <div class="dropdown-option" data-value="pink">Romantic</div>
                  <div class="dropdown-option" data-value="white">Flustered</div>
                  <div class="dropdown-option" data-value="brown">Annoyed</div>
                </div>
              </div>
            </div>
            <div style="display:flex;align-items:center;gap:10px;">
              <div id="loganSwatch" class="swatch"></div>
            </div>
          </div>

          <div class="pair" style="margin-top:6px;">
            <div style="display:flex;align-items:center;gap:10px;">
              <div class="label">Ezekiel</div>
              <div class="dropdown" data-person="ezekiel">
                <div class="dropdown-button">â€” choose â€”</div>
                <div class="dropdown-list">
                  <div class="dropdown-option" data-value="red">Dominant</div>
                  <div class="dropdown-option" data-value="orange">Confused</div>
                  <div class="dropdown-option" data-value="yellow">Breeding</div>
                  <div class="dropdown-option" data-value="green">Submissive</div>
                  <div class="dropdown-option" data-value="lightblue">Lovey</div>
                  <div class="dropdown-option" data-value="blue">Attention</div>
                  <div class="dropdown-option" data-value="purple">Desperate</div>
                  <div class="dropdown-option" data-value="pink">Romantic</div>
                  <div class="dropdown-option" data-value="white">Flustered</div>
                  <div class="dropdown-option" data-value="brown">Annoyed</div>
                </div>
              </div>
            </div>
            <div style="display:flex;align-items:center;gap:10px;">
              <div id="ezekielSwatch" class="swatch"></div>
            </div>
          </div>

          <div class="hint">Your choices sync automatically and update the background for both of you.</div>
        </div>

        <h3 style="margin-top:14px;">Quote of the Day</h3>
        <p id="quote" style="font-style:italic;"></p>

        <h3 style="margin-top:14px;">Daily Challenge</h3>
        <div id="dailyChallenge" style="margin-bottom:16px;font-weight:400;color:var(--muted);"></div>
        
        <h3 style="margin-top:12px;">Our Spotify Playlist</h3>
        <iframe src="https://open.spotify.com/embed/playlist/5YUZZEc6SYVn1JHeUHonhQ?utm_source=generator" height="380" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>

        <footer>Safe Space!</footer>
      </section>
    </main>
  </div>

  <!-- modal + status unchanged -->
  <div id="modalBackdrop" class="modal-backdrop" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-label="Shared note">
      <h3 style="margin:0 0 8px 0;">Shared Note</h3>
      <textarea id="sharedNoteTextarea" placeholder="Write something sweet, a memory, a plan..."></textarea>
      <div class="actions">
        <button id="saveNoteBtn">Save</button>
        <button id="closeNoteBtn">Close</button>
      </div>
      <div style="margin-top:8px;font-size:13px;color:var(--muted)">Saved automatically while you type (debounced).</div>
    </div>
  </div>

  <div id="status"><div class="dot"></div><div id="statusText">Connecting...</div></div>

  <script type="module">
    /* --- all your original Firebase + app logic unchanged --- */
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
    import { getDatabase, ref, set, onValue } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-database.js";

    // (All original JS is identical up to and including the password handler)

    const firebaseConfig = { /* unchanged config */ 
      apiKey: "AIzaSyAPR-TAnTSg7D2dkVjBU8SPBtTEtiztcsI",
      authDomain: "ezekiellogancolors.firebaseapp.com",
      databaseURL: "https://ezekiellogancolors-default-rtdb.firebaseio.com",
      projectId: "ezekiellogancolors",
      storageBucket: "ezekiellogancolors.appspot.com",
      messagingSenderId: "162262132243",
      appId: "1:162262132243:web:3c69771b68c9dc702b452b"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    // ELEMENTS
    const passwordInput = document.getElementById("passwordInput");
    const enterBtn = document.getElementById("enterBtn");
    const loginCard = document.getElementById("loginCard");
    const mainContent = document.getElementById("mainContent");
    const rememberMe = document.getElementById("rememberMe");
    const logoutBtn = document.getElementById("logoutBtn");

    const bgMain = document.getElementById("bg-main");
    const bgTop = document.getElementById("bg-top");
    const loganSwatch = document.getElementById("loganSwatch");
    const ezekielSwatch = document.getElementById("ezekielSwatch");
    const quoteEl = document.getElementById("quote");
    const challengeEl = document.getElementById("dailyChallenge");
    const countdownEl = document.getElementById("countdown");

    const notePreview = document.getElementById("notePreview");
    const openNoteBtn = document.getElementById("openNoteBtn");
    const modalBackdrop = document.getElementById("modalBackdrop");
    const textarea = document.getElementById("sharedNoteTextarea");
    const closeNoteBtn = document.getElementById("closeNoteBtn");
    const saveNoteBtn = document.getElementById("saveNoteBtn");

    const statusEl = document.getElementById("status");
    const statusText = document.getElementById("statusText");

    const PASSWORD = "Z+L-Forever"; // your secret

    // REMEMBER ME: auto-login if remembered
    window.addEventListener("load", () => {
      if (localStorage.getItem("rememberZL") === "true") {
        showMain();
      }
    });

    // LOGIN handler
    enterBtn.addEventListener("click", () => {
      const entered = passwordInput.value.trim();
      if (entered === PASSWORD) {
        if (rememberMe.checked) {
          localStorage.setItem("rememberZL", "true");
        } else {
          localStorage.removeItem("rememberZL");
        }
        showMain();
      } else {
        alert("Wrong password! ðŸ’” Try again.");
      }
    });

    // LOGOUT handler
    logoutBtn.addEventListener("click", () => {
      localStorage.removeItem("rememberZL");
      mainContent.style.display = "none";
      loginCard.style.display = "block";
      passwordInput.value = "";
    });

    function showMain() {
      loginCard.style.display = "none";
      mainContent.style.display = "block";
      initFirebaseSync();
      loadQuote();
      loadChallenge();
      updateCountdown();
    }

    // FIREBASE SYNC
    function initFirebaseSync() {
      const colorsRef = ref(db, "colors");
      const noteRef = ref(db, "sharedNote");

      onValue(colorsRef, (snapshot) => {
        const val = snapshot.val() || {};
        if (val.logan) updateColor("logan", val.logan);
        if (val.ezekiel) updateColor("ezekiel", val.ezekiel);
      });

      onValue(noteRef, (snapshot) => {
        const note = snapshot.val() || "";
        textarea.value = note;
        notePreview.textContent = note ? note : "(No shared note yet â€” click the â˜… to add)";
      });
    }

    // DROPDOWNS
    document.querySelectorAll(".dropdown").forEach((dd) => {
      const button = dd.querySelector(".dropdown-button");
      const list = dd.querySelector(".dropdown-list");
      const person = dd.getAttribute("data-person");

      button.addEventListener("click", () => {
        document.querySelectorAll(".dropdown-list").forEach((other) => {
          if (other !== list) other.classList.remove("show");
        });
        list.classList.toggle("show");
      });

      list.querySelectorAll(".dropdown-option").forEach((opt) => {
        opt.addEventListener("click", () => {
          const value = opt.dataset.value;
          button.textContent = opt.textContent;
          list.classList.remove("show");
          set(ref(db, "colors/" + person), value);
        });
      });
    });

    function updateColor(person, color) {
      const map = {
        red: "#ef5350",
        orange: "#ffb74d",
        yellow: "#fff176",
        green: "#81c784",
        lightblue: "#81d4fa",
        blue: "#64b5f6",
        purple: "#ba68c8",
        pink: "#f48fb1",
        white: "#f5f5f5",
        brown: "#8d6e63",
      };
      const hex = map[color] || "#444";
      if (person === "logan") {
        loganSwatch.style.background = hex;
        bgMain.style.background = `linear-gradient(90deg, ${hex}, ${ezekielSwatch.style.background || "#64b5f6"})`;
      } else if (person === "ezekiel") {
        ezekielSwatch.style.background = hex;
        bgMain.style.background = `linear-gradient(90deg, ${loganSwatch.style.background || "#f48fb1"}, ${hex})`;
      }
    }

    // SHARED NOTE
    openNoteBtn.addEventListener("click", () => {
      modalBackdrop.style.display = "flex";
      textarea.focus();
    });
    closeNoteBtn.addEventListener("click", () => {
      modalBackdrop.style.display = "none";
    });
    saveNoteBtn.addEventListener("click", saveNote);

    let noteTimeout;
    textarea.addEventListener("input", () => {
      clearTimeout(noteTimeout);
      noteTimeout = setTimeout(saveNote, 600);
    });

    function saveNote() {
      set(ref(db, "sharedNote"), textarea.value);
    }

    // STATUS indicator
    setTimeout(() => {
      statusEl.classList.add("connected");
      statusText.textContent = "Connected";
    }, 1000);

    // COUNTDOWN
    function updateCountdown() {
      const now = new Date();
      const currentYear = now.getFullYear();
      let next = new Date(`${currentYear}-11-02`);
      if (now > next) next = new Date(`${currentYear + 1}-11-02`);
      const diff = next - now;
      const days = Math.ceil(diff / (1000 * 60 * 60 * 24));
      countdownEl.textContent = `${days} day${days !== 1 ? "s" : ""} until our anniversary ðŸ’ž`;
    }

	// QUOTE + CHALLENGE
	const quotes = [
	  "Love is not what you say, it's what you do.",
	  "Even on quiet days, I choose you.",
	  "Every storm ends with your smile.",
	  "You're my home in every season.",
	  "Your laugh is my favorite melody.",
	  "In your eyes, I find my calm.",
	  "Love grows in the little moments.",
	  "Every day with you is my favorite chapter.",
	  "You are my once in a lifetime.",
	  "With you, ordinary feels magical.",
	  "Our love speaks softly but lasts loudly.",
	  "I fall for you a little more every day.",
	  "You make my heart feel understood.",
	  "Weâ€™re not perfect, but weâ€™re real.",
	  "Time slows down when you're near."
	];

	// CHALLENGES (Mixed: Casual + Romantic + Flirty)
	const challenges = [
	  "Send one message thatâ€™ll make them think about you all day.",
	  "Describe your perfect â€˜virtual dateâ€™ in detail.",
	  "Give them a compliment that makes them blush a little.",
	  "Send an â€˜innocentâ€™ message with not-so-innocent undertones.",
	  "Say something flirty using only emojis.",
	  "Play truth or dare (chat edition).",
	  "Confess one thing you find irresistible about them.",
	  "Describe what youâ€™d whisper if they were beside you.",
	  "Write a short flirty paragraph and send it when they least expect it.",
	  "Start a â€˜Would you ratherâ€™ game with romantic twists.",
	  "Share one fantasyâ€”keep it sweet and daydreamy.",
	  "End your next message with a mysterious â€˜to be continuedâ€¦â€™",
	  "Use their name in a way that makes it sound like a secret.",
	  "Send a voice note thatâ€™s just your laugh or a â€˜miss youâ€™ whisper.",
	  "Type something sweetâ€¦ then delete half before sending ðŸ˜‰.",
	  "Share a random photo that reminds you of them.",
	  "Ask them a deep question youâ€™ve never asked before.",
	  "Tell them three small things that made you think of them today.",
	  "Send your favorite quote about love and say why it fits them.",
	  "Plan your next call or video date together.",
	  "Share your current song or playlist that fits your mood.",
	  "Ask them to describe your vibe in three words.",
	  "Use a GIF or meme to flirt subtly.",
	  "Tell them one thing youâ€™d love to do together someday.",
	  "Set your chat nickname for them to something secretly romantic."
	];

    function loadQuote() {
      const q = quotes[Math.floor(Math.random() * quotes.length)];
      quoteEl.textContent = `"${q}"`;
    }

    function loadChallenge() {
      const c = challenges[Math.floor(Math.random() * challenges.length)];
      challengeEl.textContent = c;
    }

    // CLOSE dropdowns on outside click
    document.addEventListener("click", (e) => {
      if (!e.target.closest(".dropdown")) {
        document.querySelectorAll(".dropdown-list").forEach((list) => list.classList.remove("show"));
      }
    });
  </script>
</body>
</html>






